{% load static %}

<!DOCTYPE html>
<html lang="en">
    <head>

        {% block meta %}
            <meta http-equiv="X-UA-Compatible" content="ie=edge" />
            <meta charset="utf-8">
            <meta name="viewport" content="width=device-width, initial-scale=1"/>
        {% endblock %}

        {% block extra_meta %}
        {% endblock %}

        <link rel="shortcut icon" type="image/png" href="{% static 'icons/mr-buttons-120.png' %}" />

        <title>The Inner Purr {% block extra_title%}{% endblock %}</title>

        {% block corecss %}
            <!-- Font Awesome: Minified CSS taken from https://cdnjs.com/libraries/font-awesome -->
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />
            <!-- google icons -->
            <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
            <!-- google fonts -->
            <link rel="preconnect" href="https://fonts.gstatic.com" />
            <link href="https://fonts.googleapis.com/css2?family=Architects+Daughter&family=Montserrat:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Poppins:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet" />
            <!-- materialize -->
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
            <link rel="stylesheet" href="{% static 'css/base.css' %}">
        {% endblock %}

        {% block extra_css %}
        {% endblock %}

    </head>
    <body>
        <header>
            <!-- Top Banner -->
            <nav class="nav-extended">
                <div class="nav-wrapper flex">
                    <!-- LOGO -->
                    <div class="logo-image">
                        {% include 'includes/mr-buttons.html' %}
                    </div>
                    <div class="logo-text center flex-col">
                        <a href="{% url 'home' %}">
                            <h5 class="logo-header text-shadow-2 mv-half m0">The Inner Purr</h5>
                            <h6 class="logo-sub-header text-shadow-2">
                            Saving Cats & Serving Coffee
                            </h6>
                        </a>
                    </div>
                </div>
            </nav>

            <!-- Side Nav Bar -->
            <ul class="sidenav" id="mobile-demo">
                <li><a tabindex="-1" href="{% url 'home' %}">The Purr</a></li>
                <li><a tabindex="-1" href="{% url 'cats' %}">Cats</a></li>
                <li><a tabindex="-1" href="{% url 'products' %}">Shop</a></li>
                <li><a tabindex="-1" href="{% url 'help' %}">Help Us</a></li>
                <li><a tabindex="-1" href="{% url 'contact' %}">Contact</a></li>
            </ul>
        </header>
        {% block page_header %}
        {% endblock %}

        <!-- LINKS -->
        <div id="under-menu" class="flex-space all-links">
            <ul class="w-100 mh2 nav-links flex-space h100">
                <li class="main-link flex hide-on-small-only h100">
                    <a id="menu" href="{% url 'home' %}">
                        <img id="paw" src="{% static 'icons/paw.png' %}" alt="paw"><span class="center-align w-100">The Purr</span>
                    </a>
                </li>
                <li class="main-link flex hide-on-small-only h100">
                    <a id="cats" href="{% url 'cats' %}">
                        <img id="paw" src="{% static 'icons/paw.png' %}" alt="paw"><span class="center-align w-100">Cats</span>
                    </a>
                </li>
                <li class="main-link flex hide-on-small-only h100">
                    <a id="shop" href="{% url 'products' %}">
                        <img id="paw" src="{% static 'icons/paw.png' %}" alt="paw"><span class="center-align w-100">Shop</span>
                    </a>
                </li>
                <li class="main-link flex hide-on-small-only h100">
                    <a id="help" href="{% url 'help' %}">
                        <img id="paw" src="{% static 'icons/paw.png' %}" alt="paw"><span class="center-align w-100">Help Us</span>
                    </a>
                </li>
                <li class="main-link flex hide-on-small-only h100">
                    <a id="contact" href="{% url 'contact' %}">
                        <img id="paw" src="{% static 'icons/paw.png' %}" alt="paw"><span class="center-align w-100">Contact</span>
                    </a>
                </li>
                <!-- BAG AND PROFILE -->
                <ul class="right flex mobile-nav">
                    <li onclick="show()" class="profile-drop line1 mr1">
                        <a class="flex profile pointer">
                            <img src="{% static 'icons/profile-20-blue.png' %}" alt="profile"> 
                            <span id="dropdown-arrow"> &#9660; </span>
                            <ul class="profile-dropped p1">
                                {% if request.user.is_authenticated %}
                                    {% if request.user.is_superuser %}
                                        <a href="{% url 'add_product' %}">Product Management</a>
                                    {% endif %}
                                    <a href="{% url 'profile' %}">My Profile</a>
                                    <a href="{% url 'account_logout' %}">Logout</a>
                                {% else %}
                                    <li><a href="{% url 'account_login' %}">Login</a></li>
                                    <li><a href="{% url 'account_signup' %}">Register</a></li>
                                {% endif %}
                            </ul>
                        </a>
                    </li>
                    <li class="line1">
                        <a class="" href="{% url 'view_bag' %}">
                            <div id="bag-icon" class="flex">
                                <img class="mr-half" src="{% static 'icons/bag-20-blue.png' %}" alt="shopping bag">
                                {% if grand_total %}
                                    €{{ grand_total|floatformat:2 }}
                                {% else %}
                                    €0.00
                                {% endif %}
                            </div>
                        </a>
                    </li>
                    <div class="nav-links right-align flex all-links hide-on-med-and-up h100">
                        <a href="#" data-target="mobile-demo" class="sidenav-trigger right">
                        <i class="material-icons right">menu</i></a>
                    </div>
                </ul>
            </ul>
        </div>

        {% if messages %}
            <div class="message-container">
                {% for message in messages %}
                    {% with message.level as level %}
                        {% if level == 40 %}
                            {% include 'includes/toasts/toast_error.html' %}
                        {% elif level == 30 %}
                            {% include 'includes/toasts/toast_warning.html' %}
                        {% elif level == 25 %}
                            {% include 'includes/toasts/toast_success.html' %}
                        {% else %}
                            {% include 'includes/toasts/toast_info.html' %}
                        {% endif %}
                    {% endwith %}
                {% endfor %}
            </div>
        {% endif %}

        {% block page-header %}
        
            
        {% endblock %}

        <main>
            {% block content%}
            {% endblock %}
        </main>

        <!-- FOOTER -->
        <footer class="page-footer p1">
            <div class="row container">
                <!-- Newsletter -->
                <div class="col s12 l4 mb1 center">
                    <h5 class="white-text">Newsletter Sign-up</h5>
                    <p class="grey-text text-lighten-4 mv-half text-newsletter">
                        Enter your email address to recieve out weekly newsletter
                    </p>
                    <form id="form_contact" onsubmit="return sendMail(this);">
                        <input class="larger" type="email" name="emailaddress" id="emailaddress" placeholder="email" required />
                        <label for="emailaddress" class="valign-wrapper">
                            <button id="submit" tabindex="0" aria-label="submit" type="submit" class="focus-outline" >
                                <i class="far fa-paper-plane large-icon larger"></i>
                            </button>
                        </label>
                    </form>
                </div>
                <!-- Address and Hours -->
                <div class="col s12 m6 l4 mb1 center">
                    <div class="mb1">
                        <h5 class="text-shadow-2 mv-half white-text">The Inner Purr</h5>
                        <h6 class="text-shadow-2 large white-text">Saving Cats & Serving Coffee</h6>
                    </div>
                    <p class="bold">37A Brunswick St. North, D7</p>
                    <p class="bold">Mon-Fri 10am 7pm</p>
                    <p class="bold">Sat-Sun 11am 5pm</p>
                </div>
                <!-- Social Links -->
                <div class="col s12 m6 l4 mb1">
                    <ul class="social-links mb-half">
                        <li>
                            <a rel="noopener" target="_blank" href="https://www.instagram.com/phibsborocatrescue/?hl=en" title="Instagram" >
                                <i aria-label="Instagram" class="fab fa-instagram-square"></i>
                            </a>
                        </li>
                        <li>
                            <a rel="noopener" target="_blank" href="https://www.facebook.com/phibscatrescue/" title="Facebook" >
                                <i aria-label="facebook" class="fab fa-facebook-square"></i>
                            </a>
                        </li>
                    </ul>
                    <p class="center">© 2021 Copyright: Sean McMahon</p>
                </div>
            </div>
        </footer>

        <!--  Scripts-->
        {% block corejs %}
            <script src="https://code.jquery.com/jquery-3.6.0.min.js" 
            integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" 
            crossorigin="anonymous"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.8/ScrollMagic.min.js" integrity="sha512-8E3KZoPoZCD+1dgfqhPbejQBnQfBXe8FuwL4z/c8sTrgeDMFEnoyTlH3obB4/fV+6Sg0a0XF+L/6xS4Xx1fUEg==" crossorigin="anonymous" ></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.8/plugins/debug.addIndicators.js" integrity="sha512-mq6TSOBEH8eoYFBvyDQOQf63xgTeAk7ps+MHGLWZ6Byz0BqQzrP+3GIgYL+KvLaWgpL8XgDVbIRYQeLa3Vqu6A==" crossorigin="anonymous" ></script>
            <script src="{% static 'js/app.js' %}"></script>
            <!--STRIPE included in base to enable some fraud detection features-->
            <script src="https://js.stripe.com/v3/"></script>
        {% endblock %}

        {% block postloadjs %}
            
            {% if messages %}
            <div class="message-container">
                {% for message in messages %}
                    {% include 'includes/toasts/toast_success.html' %}
                {% endfor %}
            </div>
            {% endif %}
        {% endblock %}

        {% block extra_js %}
        {% endblock %}

    </body>
</html>